# פיתוח לוקאלי – לראות שינויים מיידית בלי דיפלוי

## 1. האתר (React) – שינויים מיידיים

מריצים שרת פיתוח עם **Hot Module Replacement** – כל שמירה בקוד מעדכנת את הדפדפן אוטומטית.

```bash
cd ~/Desktop/interactive-lecture-hub-main
npm run dev
```

- נפתח בדרך כלל: **http://localhost:5173**
- משנים קובץ ב-`src/` (רכיבים, עמודים, סטיילים) → הדף מתעדכן **בלי לרענן ידנית**.
- אין צורך בדיפלוי ל-Vercel בזמן פיתוח.

וודא ש-**.env** (או **.env.local**) מכיל:

- `VITE_SUPABASE_URL`
- `VITE_SUPABASE_PUBLISHABLE_KEY`

כדי שהאתר המקומי יתחבר ל-Supabase האמיתי (מצגות, התחברות, וכו').

---

## 2. Edge Functions (generate-slides, chat-builder וכו')

הפונקציות רצות ב-Supabase בענן. יש שתי דרכים לעבוד איתן:

### א. לבדוק מול הפונקציות שפרוסות (בלי להריץ מקומית)

- מריצים `npm run dev` ומשתמשים באתר כרגיל.
- כל שינוי ב-**קוד האתר** (React) יופיע מיידית.
- שינוי ב-**קוד של Edge Function** (למשל `supabase/functions/generate-slides/index.ts`) ייכנס רק אחרי דיפלוי:

  ```bash
  npx supabase functions deploy generate-slides --no-verify-jwt
  ```

אז בזמן פיתוח UI/חוויית משתמש – מספיק `npm run dev`. כשמשנים לוגיקה ב-function – מעלים ומנסים.

### ב. להריץ את ה-Functions מקומית (אופציונלי)

אם רוצים לבדוק שינויים ב-function **בלי** לדפלס כל פעם:

1. **התקנת Supabase CLI** (אם עדיין לא):
   ```bash
   brew install supabase/tap/supabase
   ```

2. **הרצת פונקציה אחת מקומית** (למשל `generate-slides`):
   ```bash
   cd ~/Desktop/interactive-lecture-hub-main
   npx supabase functions serve generate-slides --no-verify-jwt
   ```
   הפונקציה תהיה זמינה ב־`http://localhost:54321/functions/v1/generate-slides`.

3. **גרום לאתר להשתמש ב-URL המקומי**  
   כרגע האתר משתמש ב-URL של Supabase מהענן. כדי לכוון ל-function מקומית אפשר:
   - להגדיר ב-`.env.local` משתנה שמשנה את base URL של ה-functions ל־`http://localhost:54321` (רק אם יש לך לוגיקה בקוד שקוראת למשתנה כזה), או  
   - להשאיר את האתר מצביע לענן ולדפלס function אחרי שינויים – הכי פשוט לרוב.

בפועל, **רוב הפיתוח**: `npm run dev` לאתר, ודיפלוי ל-function רק כשמשנים את הקוד שלה.

---

## סיכום

| מה משנים           | איך רואים את השינוי                         |
|---------------------|----------------------------------------------|
| קוד באתר (React)   | `npm run dev` → שמירת קובץ → עדכון אוטומטי  |
| קוד ב-Edge Function| דיפלוי ל-Supabase (או הרצה מקומית של function) |

**לסיום:** כל יום פיתוח מתחיל ב־`npm run dev` באותה תיקיית פרויקט; משנים קוד, שומרים – והשינויים מופיעים מיידית בדפדפן.
